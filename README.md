# litres

<br/><br/>
<h2 align="center">Замечания</h2>

### Вводные данные
Вводные данные были в формате XML и достаточно объемные (~ 3 GB), чтобы нормально ознакомиться со структурой данных. Работать в таком формате было максимально неудобно, поэтому было принято решение перенести информацию из XML в postgres.

Структура данных в новой БД:  book_id, title, description, author_fullname, keywords, genres, languages, year_grade - это основная информация, которая хранилась в XML. Важно, что в этом наборе данных не было информации о стоимости книг, ссылок на них, рейтинге и тд
Но эти данные были в файле "top500.xml", поэтому можно сделать вывод, что где-то есть данные litres в полноформатном варианте.

### API
Рыскаясь внутри сайта литрес я наткнулся на апи, который присылал отзывы о книге и таким образом я смог через отзывы выйти на получение данных книг непосредственно из апи.
К тому же у апи была своя пагинация, внутри которой хранилось всего 1000 книг! [Вот ссылка](https://api.litres.ru/foundation/api/arts)

### Основная проблема
Итак, у нас есть доступ к апи, из которого можно доставать книги, но если использовать стандартную пагинацию, то мы сможем спарсить всего 1000 книг. В то время как у литрес их, понятнее дело, намного больше. К тому же в самом файле xml лежит около 230К уникальных индефикаторов книг.


### Решение
Вытащить все book_id из xml-файла и пропарсить их по отдельности через апи. [Например](https://api.litres.ru/foundation/api/arts/65147951)